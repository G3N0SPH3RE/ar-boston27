-- Barcode scanner test
-- Initial attempt: To call hardware id and check to see if it matches.
--If ID does not match, then send error to ????

-- Things to do:
--     Set scanner IP
--     Where is error log being sent?
--     Test scanner actualy functionality?

-- --RS-232 Communication with COGNEX BCR--
-- --replace '#' with com number--
-- cognex = serial.Serial('COM#', 9600, timeout=5)
-- time.sleep(.5)
-- cognex.write(b'0') 
-- time.sleep(1) 
-- response = cognex.readline() 
-- cognexsn = response 
-- print(cognexsn) 
-- cognexsn = cognexsn.decode() 
-- print(cognexsn) 
-- cognexsn = cognexsn.replace('\n', ' ').replace('\r', '').replace(' ','') 
-- print(cognexsn)


-- Cognex hardware ID
from cpppo.server.enip.get_attribute import proxy_simple
vendor, product_name, zz = proxy_simple( '10.202.180.66' ).read( [('@1/1/1','INT'),('@1/1/7','SSTRING'),('@0x79/1/0x10','SINT')] )

print(vendor)
print(product_name)
print(zz)

